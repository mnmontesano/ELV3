<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ELV3 Cheat Sheet</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
        }

        h1 {
            text-align: center;
            font-weight: 900;
            margin: 20px 0;
        }

        .logo {
            display: block;
            margin: 5px auto;
            max-width: 100px;
            height: auto;
        }

        .input-group {
            margin: 20px auto;
            max-width: 500px;
            text-align: center;
        }

        input {
            width: 80%;
            padding: 10px;
            border: 1px solid #ccc;
            border-radius: 5px;
            margin: 5px auto;
            display: block;
        }

        .result {
            margin: 10px auto;
            padding: 10px;
            background-color: #f0f0f0;
            border-radius: 5px;
            width: 80%;
            display: block;
        }

        button {
            display: block;
            margin: 20px auto;
            padding: 10px 20px;
            font-size: 1.2em;
            background-color: #000;
            color: #fff;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }

        button:hover {
            background-color: #333;
        }

        .image-viewer {
            width: 100%;
            height: 80vh;
            margin: 20px 0;
        }

        .image-viewer iframe {
            width: 100%;
            height: 100%;
            border: 1px solid #ccc;
            border-radius: 5px;
        }

        .hidden {
            display: none;
        }

        @media (prefers-color-scheme: dark) {
            body {
                background-color: #1a1a1a;
                color: #fff;
            }

            input {
                background-color: #333;
                color: #fff;
                border-color: #666;
            }

            .result {
                background-color: #333;
            }

            button {
                background-color: #fff;
                color: #000;
            }

            button:hover {
                background-color: #ccc;
            }
        }

        @media (max-width: 600px) {
            .input-group {
                width: 90%;
            }
            
            input, .result {
                width: 90%;
            }

            .notes-textarea {
                width: 90%;
            }
        }

        .feedback-button {
            margin-top: 40px;
            margin-bottom: 40px;
        }

        .notes-container {
            max-width: 500px;
            margin: 30px auto;
            text-align: center;
        }

        .notes-textarea {
            width: 80%;
            height: 100px;
            padding: 12px;
            border: 1px solid #ccc;
            border-radius: 5px;
            font-family: inherit;
            margin: 10px auto;
            resize: vertical;
            display: block;
        }

        @media (prefers-color-scheme: dark) {
            .notes-textarea {
                background-color: #333;
                color: #fff;
                border-color: #666;
            }
        }

        .credit-text {
            text-align: center;
            color: #666;  /* grey color */
            opacity: 0.7;  /* adds transparency */
            font-size: 0.9em;
            margin: 20px 0;
        }

        .social-icons {
            display: flex;
            justify-content: center;
            gap: 20px;  /* space between icons */
            margin: 15px 0;
        }

        .social-icon {
            width: 24px;  /* size of icons */
            height: 24px;
            opacity: 0.7;
            transition: opacity 0.2s;
        }

        .social-icon:hover {
            opacity: 1;
        }

        .dob-viewer {
            width: 100%;
            height: 80vh;
            margin: 20px 0;
            border: 1px solid #ccc;
            border-radius: 5px;
            resize: both;
            overflow: hidden;
            min-height: 300px;
            min-width: 300px;
            max-height: 90vh;
            max-width: 100%;
            position: relative;
        }

        .dob-viewer iframe {
            width: 150%;
            height: 150%;
            border: none;
            transform: scale(0.67);
            transform-origin: 0 0;
        }

        .tab-buttons {
            display: flex;
            justify-content: center;
            gap: 15px;     /* Changed from 2px to 15px for a larger gap */
            margin: 20px 0;
        }

        .tab-button {
            margin: 0;
            border-radius: 0;
        }

        .content-section {
            display: none;
        }

        .content-section.active {
            display: block;
        }

        .disclaimer {
            text-align: center;
            font-size: 0.8em;
            color: #666;
            margin-top: 10px;
        }

        /* Show buttons by default; hide dropdown */
        #tabButtons {
            display: flex;
        }

        #tabDropdown {
            display: none;
        }

        /* For small screens, hide buttons and show dropdown */
        @media (max-width: 600px) {
            #tabButtons {
                display: none;
            }
            #tabDropdown {
                display: block;
            }
        }
    </style>
</head>
<body>
    <a href="https://mnmontesano.github.io/ELV3/" target="_blank">
        <img src="https://github.com/mnmontesano/ELV3/blob/main/ELV3%20Cheat%20Sheet%20Icon.png?raw=true" alt="Logo" class="logo">
    </a>
    <h1>ELV3 Cheat Sheet</h1>

    <!-- Button-based Tabs (default for larger screens) -->
    <div id="tabButtons" class="tab-buttons">
         <button onclick="showTab('main')" id="mainTab" class="tab-button">Main</button>
         <button onclick="showTab('dob')" id="dobTab" class="tab-button">DOB NOW</button>
         <button onclick="showTab('dates')" id="datesTab" class="tab-button">Dates</button>
    </div>

    <!-- Dropdown-based Tabs (visible on small screens) -->
    <div id="tabDropdown" class="tab-dropdown" style="margin: 20px auto; text-align: center;">
         <select id="tabSelect" onchange="showTab(this.value)" style="font-size: 1.2em; padding: 5px; text-align: center; text-align-last: center;">
             <option value="main">Main</option>
             <option value="dob">DOB NOW</option>
             <option value="dates">Dates</option>
         </select>
    </div>

    <div id="mainContent" class="content-section active">
        <div class="input-group">
            <input type="text" id="numInput" placeholder="Enter Elevator Part Number" maxlength="3">
            <div id="numResult" class="result"></div>
        </div>

        <div class="input-group">
            <input type="text" id="letterInput" placeholder="Enter Violating Condition" maxlength="2">
            <div id="letterResult" class="result"></div>
        </div>

        <div class="input-group">
            <input type="text" id="secondaryNumInput" placeholder="Enter Suggested Remedy" maxlength="2">
            <div id="secondaryNumResult" class="result"></div>
        </div>

        <button onclick="clearInputs()">Clear</button>
        <button onclick="togglePdfViewer()" id="pdfToggleButton">Show PDF</button>

        <div class="image-viewer hidden" id="pdfViewer">
            <iframe src="DOB ELV3 - CAT.pdf#view=FitH&zoom=100" type="application/pdf" width="100%" height="100%">
                <p>Unable to display PDF file. <a href="DOB ELV3 - CAT.pdf">Download</a> instead.</p>
            </iframe>
        </div>

        <div class="notes-container">
            <h3>Notes</h3>
            <textarea id="Notes" class="notes-textarea" 
                placeholder="Enter your notes here..."></textarea>
        </div>
    </div>

    <div id="dobContent" class="content-section">
        <button onclick="refreshDOB()" style="display: block; margin: 10px auto; padding: 8px 16px;">Refresh DOB Page</button>
        <div class="dob-viewer">
            <iframe src="https://a810-dobnow.nyc.gov/publish/Index.html#!/" frameborder="0"></iframe>
        </div>
        <div class="disclaimer">
            <span style="color: red;">Disclaimer: The DOB NOW page is provided by the New York City Department of Buildings. This embeded page should not be used as an official source for filing and should only be used to quickly look up information related to a building or device.</span>
        </div>
    </div>

    <div id="datesContent" class="content-section">
        <div class="input-group">
            <label for="dateInput">Select Date:</label>
            <input type="date" id="dateInput">
        </div>
        <div class="input-group date-buttons-group" style="display: flex; justify-content: center; gap: 10px;">
            <button onclick="calculateDate(30)" style="display: inline-block; margin: 0;">30 Days</button>
            <button onclick="calculateDate(60)" style="display: inline-block; margin: 0;">60 Days</button>
            <button onclick="calculateDate(90)" style="display: inline-block; margin: 0;">90 Days</button>
        </div>
        <div id="dateResult" class="result" style="width:80%;"></div>
        <div id="dateSpelledResult" class="result" style="width:80%;"></div>
    </div>

    <script>
        function numberToWord(number) {
        var result = "";
        
        switch (number) {
        case "": result = "Enter Number"; break;
        case "00": result = "Invalid number"; break;
        case "Invalid number": result = "00"; break;
        case "01": result = "Emergency Stop Switch"; break;
        case "Emergency Stop Switch": result = "01"; break;
        case "02": result = "Alarm System"; break;
        case "Alarm System": result = "02"; break;
        case "03": result = "Car Enclosure"; break;
        case "Car Enclosure": result = "03"; break;
        case "04": result = "Side Emergency Exit"; break;
        case "Side Emergency Exit": result = "04"; break;
        case "05": result = "Car Door/Gate"; break;
        case "Car Door/Gate": result = "05"; break;
        case "06": result = "Car Door/Gate Contact"; break;
        case "Car Door/Gate Contact": result = "06"; break;
        case "07": result = "Door Reopening Device"; break;
        case "Door Reopening Device": result = "07"; break;
        case "08": result = "Car Floor to Landing Still"; break;
        case "Car Floor to Landing Still": result = "08"; break;
        case "09": result = "Car Floor"; break;
        case "Car Floor": result = "09"; break;
        case "10": result = "Car Door Gibs"; break;
        case "Car Door Gibs": result = "10"; break;
        case "11": result = "Car Button Station"; break;
        case "Car Button Station": result = "11"; break;
        case "12": result = "Car Lighting"; break;
        case "Car Lighting": result = "12"; break;
        case "13": result = "Emergency Lighting"; break;
        case "Emergency Lighting": result = "13"; break;
        case "14": result = "Car Mirror"; break;
        case "Car Mirror": result = "14"; break;
        case "15": result = "Certificate Frame"; break;
        case "Certificate Frame": result = "15"; break;
        case "16": result = "Hoistway Doors"; break;
        case "Hoistway Doors": result = "16"; break;
        case "17": result = "Hoistway Door Gibs"; break;
        case "Hoistway Door Gibs": result = "17"; break;
        case "18": result = "Hoistway Door Reinforcements"; break;
        case "Hoistway Door Reinforcements": result = "18"; break;
        case "19": result = "Hoistway Door Safety Retainer"; break;
        case "Hoistway Door Safety Retainer": result = "19"; break;
        case "20": result = "Vision Panel"; break;
        case "Vision Panel": result = "20"; break;
        case "21": result = "Interlocks"; break;
        case "Interlocks": result = "21"; break;
        case "22": result = "Parking Device"; break;
        case "Parking Device": result = "22"; break;
        case "23": result = "Hall Button Station"; break;
        case "Hall Button Station": result = "23"; break;
        case "24": result = "Indicators"; break;
        case "Indicators": result = "24"; break;
        case "25": result = "Door Safety Retainer"; break;
        case "Door Safety Retainer": result = "25"; break;
        case "26": result = "Top Emergency Exit Cover"; break;
        case "Top Emergency Exit Cover": result = "26"; break;
        case "27": result = "Governor Release Carrier"; break;
        case "Governor Release Carrier": result = "27"; break;
        case "28": result = "Door Hangers & Connectors"; break;
        case "Door Hangers & Connectors": result = "28"; break;
        case "29": result = "Door Operator"; break;
        case "Door Operator": result = "29"; break;
        case "30": result = "Normal Limits"; break;
        case "Normal Limits": result = "30"; break;
        case "31": result = "Final Limits"; break;
        case "Final Limits": result = "31"; break;
        case "32": result = "Guide Shoes / Roller Guides"; break;
        case "Guide Shoes / Roller Guides": result = "32"; break;
        case "33": result = "Counterweight"; break;
        case "Counterweight": result = "33"; break;
        case "34": result = "Hoistway"; break;
        case "Hoistway": result = "34"; break;
        case "35": result = "Electrical Wiring"; break;
        case "Electrical Wiring": result = "35"; break;
        case "36": result = "Pipes and Ducts"; break;
        case "Pipes and Ducts": result = "36"; break;
        case "37": result = "Overhead & Deflector Sheave"; break;
        case "Overhead & Deflector Sheave": result = "37"; break;
        case "38": result = "Traveling Cable & Junction"; break;
        case "Traveling Cable & Junction": result = "38"; break;
        case "39": result = "Car Top"; break;
        case "Car Top": result = "39"; break;
        case "40": result = "Machine Room"; break;
        case "Machine Room": result = "40"; break;
        case "41": result = "Machine Room Door"; break;
        case "Machine Room Door": result = "41"; break;
        case "42": result = "Controller—Selector"; break;
        case "Controller—Selector": result = "42"; break;
        case "43": result = "Reverse Phase Relay"; break;
        case "Reverse Phase Relay": result = "43"; break;
        case "44": result = "Traction Sheave"; break;
        case "Traction Sheave": result = "44"; break;
        case "45": result = "Governor"; break;
        case "Governor": result = "45"; break;
        case "46": result = "Governor Switch"; break;
        case "Governor Switch": result = "46"; break;
        case "47": result = "Drum"; break;
        case "Drum": result = "47"; break;
        case "48": result = "Pump Unit"; break;
        case "Pump Unit": result = "48"; break;
        case "49": result = "Drum Machine Limit SW"; break;
        case "Drum Machine Limit SW": result = "49"; break;
        case "50": result = "Generator"; break;
        case "Generator": result = "50"; break;
        case "51": result = "Slack Rope Switch"; break;
        case "Slack Rope Switch": result = "51"; break;
        case "52": result = "Hoist Cables"; break;
        case "Hoist Cables": result = "52"; break;
        case "53": result = "Governor Ropes"; break;
        case "Governor Ropes": result = "53"; break;
        case "54": result = "Car Counterweight Rope"; break;
        case "Car Counterweight Rope": result = "54"; break;
        case "55": result = "Drum Counterweight Rope"; break;
        case "Drum Counterweight Rope": result = "55"; break;
        case "56": result = "Hoist Machine"; break;
        case "Hoist Machine": result = "56"; break;
        case "57": result = "Hoist Motor"; break;
        case "Hoist Motor": result = "57"; break;
        case "58": result = "Worm / Gear / Bearings"; break;
        case "Worm / Gear / Bearings": result = "58"; break;
        case "59": result = "Machine Brake"; break;
        case "Machine Brake": result = "59"; break;
        case "60": result = "Lighting Machine Space"; break;
        case "Lighting Machine Space": result = "60"; break;
        case "61": result = "Machine Disconnect SW"; break;
        case "Machine Disconnect SW": result = "61"; break;
        case "62": result = "Commutator"; break;
        case "Commutator": result = "62"; break;
        case "63": result = "Motor Brushes"; break;
        case "Motor Brushes": result = "63"; break;
        case "64": result = "NYC Device #"; break;
        case "NYC Device #": result = "64"; break;
        case "65": result = "Unintended Car Movement"; break;
        case "Unintended Car Movement": result = "65"; break;
        case "66": result = "Emergency Brake/Rope Gripper"; break;
        case "Emergency Brake/Rope Gripper": result = "66"; break;
        case "67": result = "Communication"; break;
        case "Communication": result = "67"; break;
        case "68": result = "Maintenance Log"; break;
        case "Maintenance Log": result = "68"; break;
        case "69": result = "Code Data Plate"; break;
        case "Code Data Plate": result = "69"; break;
        case "70": result = "Pit"; break;
        case "Pit": result = "70"; break;
        case "71": result = "Pit Light"; break;
        case "Pit Light": result = "71"; break;
        case "72": result = "Pit Stop Switch"; break;
        case "Pit Stop Switch": result = "72"; break;
        case "73": result = "Car Guide-Rails & Brackets"; break;
        case "Car Guide-Rails & Brackets": result = "73"; break;
        case "74": result = "Cwt Guide-Rails & Brackets"; break;
        case "Cwt Guide-Rails & Brackets": result = "74"; break;
        case "75": result = "Buffers"; break;
        case "Buffers": result = "75"; break;
        case "76": result = "Car Safety & Tail Rope"; break;
        case "Car Safety & Tail Rope": result = "76"; break;
        case "77": result = "Underside Platform"; break;
        case "Underside Platform": result = "77"; break;
        case "78": result = "Tension Weight"; break;
        case "Tension Weight": result = "78"; break;
        case "79": result = "Comp / Chains / Ropes / Switch"; break;
        case "Comp / Chains / Ropes / Switch": result = "79"; break;
        case "80": result = "Counterweight Runby"; break;
        case "Counterweight Runby": result = "80"; break;
        case "81": result = "Counterweight Runby Signage"; break;
        case "Counterweight Runby Signage": result = "81"; break;
        case "82": result = "Plunger Gripper"; break;
        case "Plunger Gripper": result = "82"; break;
        case "83": result = "Fire Shutters"; break;
        case "Fire Shutters": result = "83"; break;
        case "84": result = "Skirt Switch"; break;
        case "Skirt Switch": result = "84"; break;
        case "85": result = "Skirt Deflection Device"; break;
        case "Skirt Deflection Device": result = "85"; break;
        case "86": result = "Comb Plate / Comb Plate Teeth"; break;
        case "Comb Plate / Comb Plate Teeth": result = "86"; break;
        case "87": result = "Landing Plate / Impact Switches"; break;
        case "Landing Plate / Impact Switches": result = "87"; break;
        case "88": result = "Handrails / Handrail Safeties"; break;
        case "Handrails / Handrail Safeties": result = "88"; break;
        case "89": result = "Step / Thread"; break;
        case "Step / Thread": result = "89"; break;
        case "90": result = "Key Switch"; break;
        case "Key Switch": result = "90"; break;
        case "91": result = "Emergency Stop Button"; break;
        case "Emergency Stop Button": result = "91"; break;
        case "92": result = "Decking and Ballistrades"; break;
        case "Decking and Ballistrades": result = "92"; break;
        case "93": result = "Ceiling Guards"; break;
        case "Ceiling Guards": result = "93"; break;
        case "94": result = "Deck Barricades"; break;
        case "Deck Barricades": result = "94"; break;
        case "95": result = "Internal Safeties"; break;
        case "Internal Safeties": result = "95"; break;
        case "96": result = "Safety Signage"; break;
        case "Safety Signage": result = "96"; break;
        case "97": result = "Entire Device"; break;
        case "Entire Device": result = "97"; break;
        case "98": result = "Current Five Year Tag"; break;
        case "Current Five Year Tag": result = "98"; break;
        case "99": result = "Current One Year Tag"; break;
        case "Current One Year Tag": result = "99"; break;
        case "100": result = "Miscellaneous"; break;
        case "Miscellaneous": result = "100"; break;
        default: result = "Invalid Number"; break;
        }
        
        if (result !== "Invalid Number" && result !== "Enter Number" && result !== "Invalid number") {
            var intValue = parseInt(number);
            if (intValue >= 1 && intValue <= 15) {
                result += " (Inside Car)";
            }
            
            if (intValue >= 16 && intValue <= 25) {
                result += " (Outside Hoistway)";
            }
            
            if (intValue >= 26 && intValue <= 39) {
                result += " (Top of Car)";
            }
            
            if (intValue >= 40 && intValue <= 69) {
                result += " (Machine Room)";
            }
            
            if (intValue >= 70 && intValue <= 82) {
                result += " (Pit)";
            }
            
            if (intValue >= 83 && intValue <= 96) {
                result += " (Escalator/Moving Walk)";
            }
            
            if (intValue >= 97 && intValue <= 100) {
                result += " (All Types)";
            }
        }
        
        return result;
        
    }

        function letterToWord(letter) {
            const mapping = {
                "": "Enter Letter",
                "a": "Altered",
                "A": "Altered", 
                "Altered": "A",
                "b": "Insufficient",
                "B": "Insufficient",
                "Insufficient": "B",
                "c": "Padlocked",
                "C": "Padlocked",
                "Padlocked": "C",
                "d": "Unsecured",
                "D": "Unsecured",
                "Unsecured": "D",
                "e": "Rubbing",
                "E": "Rubbing",
                "Rubbing": "E",
                "f": "Lost Motion",
                "F": "Lost Motion",
                "Lost Motion": "F",
                "g": "Improper Fuses",
                "G": "Improper Fuses",
                "Improper Fuses": "G",
                "h": "Worn",
                "H": "Worn",
                "Worn": "H",
                "i": "Damaged",
                "I": "Damaged",
                "Damaged": "I",
                "j": "Misaligned",
                "J": "Misaligned",
                "Misaligned": "J",
                "k": "Rusted",
                "K": "Rusted",
                "Rusted": "K",
                "l": "Defective",
                "L": "Defective",
                "Defective": "L",
                "m": "Missing",
                "M": "Missing",
                "Missing": "M",
                "n": "By-Passed",
                "N": "By-Passed",
                "By-Passed": "N",
                "o": "Dirty",
                "O": "Dirty",
                "Dirty": "O",
                "p": "No Means Of Access",
                "P": "No Means Of Access",
                "No Means Of Access": "P",
                "q": "Unguarded",
                "Q": "Unguarded",
                "Unguarded": "Q",
                "r": "Illegal",
                "R": "Illegal",
                "Illegal": "R",
                "s": "Not Fire Retardant",
                "S": "Not Fire Retardant",
                "Not Fire Retardant": "S",
                "t": "Unlabeled",
                "T": "Unlabeled",
                "Unlabeled": "T",
                "u": "Device Not Tagged",
                "U": "Device Not Tagged",
                "Device Not Tagged": "U",
                "v": "Not Level",
                "V": "Not Level",
                "Not Level": "V",
                "w": "Unlocked",
                "W": "Unlocked",
                "Unlocked": "W",
                "x": "Inoperative",
                "X": "Inoperative",
                "Inoperative": "X",
                "y": "Oil Leak",
                "Y": "Oil Leak",
                "Oil Leak": "Y",
                "z": "Water Leak",
                "Z": "Water Leak",
                "Water Leak": "Z",
                "aa": "Carbon Buildup",
                "Aa": "Carbon Buildup",
                "AA": "Carbon Buildup",
                "Carbon Buildup": "AA",
                "bb": "Expired Tag",
                "Bb": "Expired Tag", 
                "BB": "Expired Tag",
                "Expired Tag": "BB"
            };
            return mapping[letter] || "Invalid Letter";
        }

        function secondaryNumberToWord(number) {
            const mapping = {
                "": "Enter Number",
                "01": "Adjust",
                "Adjust": "01",
                "adjust": "01",
                "02": "Clean", 
                "Clean": "02",
                "clean": "02",
                "03": "Install Guards",
                "Install Guards": "03",
                "install guards": "03",
                "04": "Patch",
                "Patch": "04",
                "patch": "04",
                "05": "Perform & File Test",
                "Perform & File Test": "05", 
                "perform & file test": "05",
                "06": "Properly Secure",
                "Properly Secure": "06",
                "properly secure": "06",
                "07": "Provide",
                "Provide": "07",
                "provide": "07",
                "08": "Regroove",
                "Regroove": "08",
                "regroove": "08",
                "09": "Remove",
                "Remove": "09",
                "remove": "09",
                "10": "Repair",
                "Repair": "10",
                "repair": "10",
                "11": "Replace",
                "Replace": "11",
                "replace": "11",
                "12": "Reshackle", 
                "Reshackle": "12",
                "reshackle": "12",
                "13": "Seal",
                "Seal": "13",
                "seal": "13",
                "14": "Shorten",
                "Shorten": "14",
                "shorten": "14",
                "15": "Tag Device",
                "Tag Device": "15",
                "tag device": "15",
                "16": "Provide Means of Access",
                "Provide Means of Access": "16",
                "provide means of access": "16",
                "17": "Re-inspection Required",
                "Re-inspection Required": "17",
                "re-inspection required": "17"
            };
            return mapping[number] || "Invalid Number";
        }

        document.getElementById('numInput').addEventListener('input', function(e) {
            document.getElementById('numResult').textContent = numberToWord(e.target.value);
        });

        document.getElementById('letterInput').addEventListener('input', function(e) {
            document.getElementById('letterResult').textContent = letterToWord(e.target.value);
        });

        document.getElementById('secondaryNumInput').addEventListener('input', function(e) {
            document.getElementById('secondaryNumResult').textContent = secondaryNumberToWord(e.target.value);
        });

        function clearInputs() {
            document.getElementById('numInput').value = '';
            document.getElementById('letterInput').value = '';
            document.getElementById('secondaryNumInput').value = '';
            document.getElementById('numResult').textContent = '';
            document.getElementById('letterResult').textContent = '';
            document.getElementById('secondaryNumResult').textContent = '';
            document.getElementById('numInput').focus();
        }

        function togglePdfViewer() {
            const viewer = document.getElementById('pdfViewer');
            const button = document.getElementById('pdfToggleButton');
            viewer.classList.toggle('hidden');
            button.textContent = viewer.classList.contains('hidden') ? 'Show PDF' : 'Hide PDF';
        }

        function showTab(tabName) {
            document.querySelectorAll('.content-section').forEach(section => {
                section.classList.remove('active');
            });
            document.getElementById(tabName + 'Content').classList.add('active');
            document.querySelectorAll('.tab-button').forEach(button => {
                button.style.backgroundColor = '';
            });
            document.getElementById(tabName + 'Tab').style.backgroundColor = '#333';
        }

        function submitFeedback() {
            window.location.href = "mailto:michaelmontesano@gmail.com?subject=ELV3 Cheat Sheet Feedback";
        }

        // Load saved notes when page loads
        window.onload = function() {
            const savedNotes = localStorage.getItem('elevatorNotes');
            if (savedNotes) {
                document.getElementById('Notes').value = savedNotes;
            }
        }

        // Save notes when user types
        document.getElementById('Notes').addEventListener('input', function(e) {
            localStorage.setItem('elevatorNotes', e.target.value);
        });

        function calculateDate(days) {
            const dateStr = document.getElementById('dateInput').value;
            if (!dateStr) {
                document.getElementById('dateResult').textContent = "Please select a date.";
                document.getElementById('dateSpelledResult').textContent = "";
                return;
            }
            // Append T12:00:00 to treat the date as noon, reducing timezone-related shifts
            const inputDate = new Date(dateStr + "T12:00:00");
            const resultDate = new Date(inputDate);
            resultDate.setDate(resultDate.getDate() + days);
            document.getElementById('dateResult').textContent = days + " days after " + inputDate.toLocaleDateString() + " is " + resultDate.toLocaleDateString();

            // Spelled-out format using long options
            const options = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' };
            const spelledInput = inputDate.toLocaleDateString('en-US', options);
            const spelledResult = resultDate.toLocaleDateString('en-US', options);
            document.getElementById('dateSpelledResult').textContent = "" + spelledInput + " becomes " + spelledResult;
        }

        function refreshDOB() {
            const iframe = document.querySelector('#dobContent .dob-viewer iframe');
            if (iframe) {
                // Reassigning src forces the iframe to reload
                iframe.src = iframe.src;
            }
        }

        function clearDateInput() {
            document.getElementById('dateInput').value = '';
            document.getElementById('result').textContent = '';
            document.getElementById('result2').textContent = '';
        }
    </script>

    <button onclick="submitFeedback()" class="feedback-button">Submit Feedback</button>
    <div class="credit-text">Created by Michael N. Montesano</div>
    <div class="social-icons">
        <a href="https://www.linkedin.com/in/michaelmontesano/" target="_blank">
            <img src="linkedin-icon.svg" alt="LinkedIn" class="social-icon">
        </a>
    </div>
</body>
</html>
